language: android

android:
  components:
    - build-tools-23.0.1
    - extra-android-m2repository
    - android-23
#    - android-18
#    - sys-img-armeabi-v7a-android-18
#    - sys-img-armeabi-v7a-android-23

jdk:
  - oraclejdk8

env:
  global:
    - secure: "UBaoIxRPDqr8ezH3aUf/Mf1C6OyQs2KWcu6MCdJx7ITKhs/PtVwNknhm7o4tPsLcHJrHex2Q4PoJy7ZUqfy+vPgT9hbQYrM8oCLmyPA9AtZiWIo9AXuqyzMOBFXMVHPgo78dQQhgwfGuUx5/dwmrTqRmk/bC5YmrfBmKGzD1ugY="
    - secure: "di8dPmgdotlH4YuuNUgR1/wRA6PE07gJjD8Z23LJ9SQHIP9T9yb2qh6PwHgavu7uyMydaqucq9AYCsvnCpnsxDGg/f0TsipLoVcMzq6MZp1EkW1iEWYahQCg5CchtgOODDEL36DVjy08dVLTlmlIMfDIZzkXJP6H+BDKgnxim5s="

branches:
  except:
    - gh-pages

notifications:
  email: false

sudo: false

script: gradle build --stacktrace

after_success:
  - .buildscript/deploy_snapshot.sh

cache:
  directories:
    - $HOME/.gradle

# before_script:
#  - echo no | android create avd --force -n test -t android-22 --abi armeabi-v7a
#  - emulator -avd test -no-skin -no-audio -no-window &
#  - android-wait-for-emulator
#  - adb shell input keyevent 82 &
